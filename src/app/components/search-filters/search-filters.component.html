<div class="swap-wrap" [@swap]="foundedUsers().length ? 'results' : 'search'">
  <div class="panel search-panel" *ngIf="!foundedUsers().length" @expandCollapse>
    <form class="form" [formGroup]="form" (ngSubmit)="submit()" dir="rtl">
      <!-- Title/intro to match Register look -->
      <section class="intro card">
        <h1 class="title">חיפוש חברים</h1>
        <p class="muted">סנן תוצאות לפי מין, גיל, אזור, עישון ועוד.</p>
      </section>

      <h2 class="section-header">סינון מתקדם</h2>

      <div class="grid card">
        <!-- מין -->
        <label class="label" for="c_gender">מין</label>
        <div class="field">
          <select id="c_gender" formControlName="c_gender">
            <option value=9>הכל</option>
            <option *ngFor="let r of gender" [value]="r.val">{{ r.txt }}</option>
          </select>
        </div>

        <!-- עישון -->
        <label class="label" for="c_phome">הרגלי עישון</label>
        <div class="field">
          <select id="c_phome" formControlName="c_phome">
            <option value="">ללא בחירה</option>
            <option value="מעשן">מעשן</option>
            <option value="לא מעשן">לא מעשן</option>
          </select>
          <small class="muted">בסנטימטרים</small>
        </div>

        <!-- גובה -->
        <label class="label" for="c_tz">מגובה</label>
        <div class="field">
          <select id="c_tz" formControlName="c_tz">
            <option [value]="0">הכל</option>
            <option *ngFor="let h of heights" [value]="h" [disabled]="h===0">{{ h }}</option>
          </select>
        </div>

        <!-- טווח גילאים -->
        <label class="label" for="c_ages2">טווח גילאים</label>
        <div class="field date-row">
          <select id="c_ages1" formControlName="c_ages1" aria-label="מגיל">
            <option [value]="0">מגיל</option>
            <option *ngFor="let a of ages" [value]="a">{{ a }}</option>
          </select>
          <select id="c_ages2" formControlName="c_ages2" aria-label="עד גיל">
            <option [value]="0">עד גיל</option>
            <option *ngFor="let a of ages" [value]="a">{{ a }}</option>
          </select>
          <div *ngIf="form.errors?.ageRangeInvalid && (form.touched || form.dirty)">
          <span class="errors">טווח גילאים לא תקין (מגיל גדול מ"עד גיל").</span>
        </div>
        </div>
        
        
        <!-- מצב משפחתי -->
        <label class="label" for="c_ff">מי אני מחפש להכיר?</label>
        <div class="field">
          <select id="c_ff" formControlName="c_ff">
            <option value=9>הכל</option>
            <option *ngFor="let r of familyStatus" [value]="r.val">{{ r.txt }}</option>
          </select>
        </div>

        <!-- אזור בארץ -->
        <label class="label" for="c_country">איזור בארץ</label>
        <div class="field">
          <select id="c_country" formControlName="c_country">
            <option *ngFor="let r of regions" [value]="r.val">{{ r.txt }}</option>
          </select>
        </div>

        <!-- שם חבר -->
        <label class="label" for="c_country">שם חבר</label>
        <div class="field">
          <input id="c_name" type="input" formControlName="c_name" />
        </div>

        <!-- בעלי תמונות בלבד -->
        <label class="label" for="c_pic">חברים בעלי תמונות בלבד</label>
        <div class="field">
          <input id="c_pic" type="checkbox" formControlName="c_pic" />
        </div>

        <!-- אונליין -->
        <label class="label" for="c_online">הצג חברים שבאתר כרגע</label>
        <div class="field">
          <input id="c_online" type="checkbox" formControlName="c_online" />
        </div>
      </div>

      <div class="actions">
        <button class="submit" type="submit">הצג</button>
        <button class="secondary" type="button" (click)="reset()">איפוס</button>
      </div>
    </form>
  </div>
  <div class="panel results-panel" *ngIf="foundedUsers().length" @expandCollapse>
    <app-users [inputUsers]="foundedUsers()"></app-users>
  </div>  
</div>